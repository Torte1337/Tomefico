<?xml version="1.0" encoding="utf-8" ?>
<toolkit:Popup 
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
    x:Class="Tomefico.Views.Popup.CreateEditBookPopup"
    CanBeDismissedByTappingOutsideOfPopup="True"
    Color="Transparent"
    > 


    <Grid VerticalOptions="Center" HorizontalOptions="Center" Padding="0">
        <Border
            StrokeThickness="0"
            StrokeShape="RoundRectangle 20"
            BackgroundColor="White"
            Padding="20"
            WidthRequest="320"
            MaximumHeightRequest="650">
            <ScrollView>
                <VerticalStackLayout Spacing="10">

                    <!-- Titel -->
                    <Label Text="ðŸ“– Neues Buch hinzufÃ¼gen"
                           FontSize="22"
                           FontAttributes="Bold"
                           HorizontalOptions="Center"
                           TextColor="#333"/>

                    <!-- Buch-Titel -->
                    <Border Stroke="LightGray" StrokeThickness="1" StrokeShape="RoundRectangle 12" BackgroundColor="#F7F7F7" Padding="8">
                        <Entry Placeholder="Titel..." TextColor="Black" PlaceholderColor="Gray" Text="{Binding BookTitle}" FontSize="16"/>
                    </Border>
                    <!-- Beschreibung -->
                    <Border Stroke="LightGray" StrokeThickness="1" StrokeShape="RoundRectangle 12" BackgroundColor="#F7F7F7" Padding="8">
                        <Editor Placeholder="Beschreibung..."
                                AutoSize="TextChanges"
                                TextColor="Black"
                                Text="{Binding BookDescription}"
                                FontSize="15" />
                    </Border>

                    <!-- Autor -->
                    <Label Text="Autor" />
                    <Border Stroke="Gray" StrokeThickness="1" BackgroundColor="WhiteSmoke" StrokeShape="RoundRectangle 12" Padding="8">
                        <Picker BackgroundColor="WhiteSmoke"
                            ItemsSource="{Binding AuthorList}"
                            ItemDisplayBinding="{Binding Name}"
                            TextColor="Black"
                            SelectedItem="{Binding SelectedAuthor}"/>
                    </Border>



                    <!-- Status -->
                    <Label Text="Status" FontSize="14" FontAttributes="Bold" TextColor="#444"/>
                    <Border Stroke="LightGray" StrokeThickness="1" StrokeShape="RoundRectangle 12" BackgroundColor="#F7F7F7" Padding="4">
                        <Picker ItemsSource="{Binding StatusDisplayList}" TextColor="Black" SelectedItem="{Binding BookStatus}" ItemDisplayBinding="{Binding DisplayName}" FontSize="15"/>
                    </Border>

                    <!-- Cover -->
                    <Button Text="ðŸ“· Cover auswÃ¤hlen" Command="{Binding PickCoverImageCommand}" BackgroundColor="#E0E0E0" TextColor="#333" CornerRadius="12" FontSize="15"/>
                    <Image HeightRequest="50" Margin="0,8,0,0" Aspect="AspectFill" Source="{Binding BookCover, Converter={StaticResource ByteArrayToImageSourceConverter}}" />

                    <Button Text="Speichern"
                                Command="{Binding CreateBookCommand}"
                                BackgroundColor="#DA5B38"
                                TextColor="Black"
                                FontAttributes="Bold"
                                CornerRadius="12"
                                HorizontalOptions="Fill"
                                FontSize="15"/>

                    <Button Text="Abbrechen"
                                Command="{Binding CancelCommand}"
                                BackgroundColor="#FFDA3838"
                                TextColor="Black"
                                FontAttributes="Bold"
                                CornerRadius="12"
                                HorizontalOptions="Fill"
                                FontSize="15"/>

                </VerticalStackLayout>
            </ScrollView>
        </Border>
    </Grid>
</toolkit:Popup>
